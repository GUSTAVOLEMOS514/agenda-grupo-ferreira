<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agenda GRUPO FERREIRA</title>
  <style>
    body {
      background: url('fundo_agenda.jpg') no-repeat center center fixed;
      background-size: cover;
      margin: 0;
      font-family: sans-serif;
    }
    .container {
      max-width: 900px;
      margin: auto;
      padding: 20px;
      background: rgba(255,255,255,0.95);
      border-radius: 12px;
    }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { padding: 10px; border: 1px solid #ccc; text-align: left; }
    input, select, button { padding: 8px; margin: 5px 0; width: 100%; }
    .footer {
      text-align: center;
      color: white;
      font-size: 12px;
      position: fixed;
      bottom: 10px;
      width: 100%;
    }
    @media (max-width: 600px) {
      .container { width: 95%; padding: 10px; }
      table, th, td { font-size: 14px; }
    }
    #loginModal {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: #2c3e50;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      z-index: 9999;
    }
  </style>
</head>
<body>
  <div id="loginModal">
    <h2 style="margin-bottom: 20px;">üîê Acesso √† Agenda</h2>
    <input type="password" id="senha" placeholder="Digite a senha..." style="padding:8px; font-size:14px; width:80%; max-width:260px; border:none; border-radius:5px;" />
    <button onclick="verificaSenha()" style="margin-top:10px; padding:6px 12px; font-size:14px; background:#27ae60; color:white; border:none; border-radius:4px;">Entrar</button>
    <p id="erro" style="color:tomato; margin-top:10px;"></p>
    <div style="position:absolute; bottom:10px; width:100%; text-align:center; font-size:12px;">
      <a href="https://wa.me/5581979149940" target="_blank" style="color:white; text-decoration:none;">
        Criado por Gustavo Lemos ‚Ä¢ GL SOLU√á√ïES - (81) 97914-9940
      </a>
    </div>
  </div>

  <div class="container" id="agendaApp" style="display:none;">
    <h1>Agenda GRUPO FERREIRA</h1>
    <input type="text" id="busca" placeholder="Buscar contato..." onkeyup="listarContatos()" />
    <div id="tabelaContatos"></div>
    <hr />
    <h3>Novo Contato</h3>
    <input type="text" id="nome" placeholder="Nome" />
    <input type="text" id="empresa" placeholder="Empresa" />
    <input type="text" id="telefone" placeholder="Telefone" />
    <input type="text" id="tipo" placeholder="Tipo (Vendedor, Fornecedor...)" />
    <input type="text" id="whatsapp" placeholder="WhatsApp com DDD" />
    <button onclick="salvarContato()">Salvar</button>
  </div>

  <div class="footer">
    <a href="https://wa.me/5581979149940" target="_blank" style="color:white;text-decoration:none;">
      GL SOLU√á√ïES - (81) 97914-9940 ‚Ä¢ Criado por Gustavo Lemos
    </a>
  </div>

  <script>
    function verificaSenha() {
      const senhaDigitada = document.getElementById("senha").value;
      const senhaCorreta = "ferreira2025";
      if (senhaDigitada === senhaCorreta) {
        document.getElementById("loginModal").style.display = "none";
        document.getElementById("agendaApp").style.display = "block";
      } else {
        document.getElementById("erro").innerText = "Senha incorreta!";
      }
    }

    function salvarContato() {
      const contato = {
        nome: document.getElementById("nome").value,
        empresa: document.getElementById("empresa").value,
        telefone: document.getElementById("telefone").value,
        tipo: document.getElementById("tipo").value,
        whatsapp: document.getElementById("whatsapp").value,
      };
      let lista = JSON.parse(localStorage.getItem("contatos")) || [];
      lista.push(contato);
      localStorage.setItem("contatos", JSON.stringify(lista));
      listarContatos();
      alert("Contato salvo!");
    }

    function listarContatos() {
      let lista = JSON.parse(localStorage.getItem("contatos")) || [];
      let busca = document.getElementById("busca").value.toLowerCase();
      let html = "<table><tr><th>Nome</th><th>Empresa</th><th>Telefone</th><th>Tipo</th><th>WhatsApp</th><th>A√ß√µes</th></tr>";
      lista.forEach((c, i) => {
        if (c.nome.toLowerCase().includes(busca)) {
          html += `<tr>
            <td>${c.nome}</td>
            <td>${c.empresa}</td>
            <td>${c.telefone}</td>
            <td>${c.tipo}</td>
            <td><a href='https://wa.me/55${c.whatsapp}' target='_blank'>${c.whatsapp}</a></td>
            <td><button onclick='removerContato(${i})'>üóëÔ∏è</button></td>
          </tr>`;
        }
      });
      html += "</table>";
      document.getElementById("tabelaContatos").innerHTML = html;
    }

    function removerContato(i) {
      let lista = JSON.parse(localStorage.getItem("contatos")) || [];
      if (confirm("Deseja excluir este contato?")) {
        lista.splice(i, 1);
        localStorage.setItem("contatos", JSON.stringify(lista));
        listarContatos();
      }
    }
  </script>
</body>
</html>
